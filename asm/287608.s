.include "macro.inc"

.set noat
.set noreorder

.section .text, "ax"

/* Generated by spimdisasm 1.30.2 */

glabel func_00387588
    /* 287608 00387588 B0FFBD27 */  addiu      $sp, $sp, -0x50
    /* 28760C 0038758C 6600023C */  lui        $v0, %hi(D_65DEC0)
    /* 287610 00387590 1000B0FF */  sd         $s0, 0x10($sp)
    /* 287614 00387594 80020824 */  addiu      $t0, $zero, 0x280
    /* 287618 00387598 C0DE5024 */  addiu      $s0, $v0, %lo(D_65DEC0)
    /* 28761C 0038759C C0DE44AC */  sw         $a0, -0x2140($v0)
    /* 287620 003875A0 3000B2FF */  sd         $s2, 0x30($sp)
    /* 287624 003875A4 6600043C */  lui        $a0, %hi(D_65DE48)
    /* 287628 003875A8 2000B1FF */  sd         $s1, 0x20($sp)
    /* 28762C 003875AC 2D90E000 */  daddu      $s2, $a3, $zero
    /* 287630 003875B0 4000BFFF */  sd         $ra, 0x40($sp)
    /* 287634 003875B4 2D88C000 */  daddu      $s1, $a2, $zero
    /* 287638 003875B8 040005AE */  sw         $a1, 0x4($s0)
    /* 28763C 003875BC 48DE8424 */  addiu      $a0, $a0, %lo(D_65DE48)
    /* 287640 003875C0 0080053C */  lui        $a1, (0x8000131A >> 16)
    /* 287644 003875C4 2D300000 */  daddu      $a2, $zero, $zero
    /* 287648 003875C8 0000228E */  lw         $v0, 0x0($s1)
    /* 28764C 003875CC 1A13A534 */  ori        $a1, $a1, (0x8000131A & 0xFFFF)
    /* 287650 003875D0 0000A0AF */  sw         $zero, 0x0($sp)
    /* 287654 003875D4 2D380002 */  daddu      $a3, $s0, $zero
    /* 287658 003875D8 080002AE */  sw         $v0, 0x8($s0)
    /* 28765C 003875DC 2D480002 */  daddu      $t1, $s0, $zero
    /* 287660 003875E0 80020A24 */  addiu      $t2, $zero, 0x280
    /* 287664 003875E4 DA18040C */  jal        func_00106368
    /* 287668 003875E8 2D580000 */   daddu     $t3, $zero, $zero
    /* 28766C 003875EC 06004304 */  bgezl      $v0, .L00387608
    /* 287670 003875F0 0C02028E */   lw        $v0, 0x20C($s0)
    /* 287674 003875F4 4F00043C */  lui        $a0, %hi(D_004F0300)
    /* 287678 003875F8 9E1D0E0C */  jal        func_00387678
    /* 28767C 003875FC 00038424 */   addiu     $a0, $a0, %lo(D_004F0300)
    /* 287680 00387600 16000010 */  b          .L0038765C
    /* 287684 00387604 2D100000 */   daddu     $v0, $zero, $zero
  .L00387608:
    /* 287688 00387608 15004004 */  bltz       $v0, .L00387660
    /* 28768C 0038760C 4000BFDF */   ld        $ra, 0x40($sp)
    /* 287690 00387610 0800038E */  lw         $v1, 0x8($s0)
    /* 287694 00387614 000023AE */  sw         $v1, 0x0($s1)
    /* 287698 00387618 0800028E */  lw         $v0, 0x8($s0)
    /* 28769C 0038761C 0E004018 */  blez       $v0, .L00387658
    /* 2876A0 00387620 2D280000 */   daddu     $a1, $zero, $zero
    /* 2876A4 00387624 0C000626 */  addiu      $a2, $s0, 0xC
    /* 2876A8 00387628 2110C500 */  addu       $v0, $a2, $a1
    /* 2876AC 0038762C 00000000 */  nop
  .L00387630:
    /* 2876B0 00387630 21204502 */  addu       $a0, $s2, $a1
    /* 2876B4 00387634 00004390 */  lbu        $v1, 0x0($v0)
    /* 2876B8 00387638 0100A524 */  addiu      $a1, $a1, 0x1
    /* 2876BC 0038763C 000083A0 */  sb         $v1, 0x0($a0)
    /* 2876C0 00387640 0800028E */  lw         $v0, 0x8($s0)
    /* 2876C4 00387644 2A10A200 */  slt        $v0, $a1, $v0
    /* 2876C8 00387648 F9FF4014 */  bnez       $v0, .L00387630
    /* 2876CC 0038764C 2110C500 */   addu      $v0, $a2, $a1
    /* 2876D0 00387650 02000010 */  b          .L0038765C
    /* 2876D4 00387654 0C02028E */   lw        $v0, 0x20C($s0)
  .L00387658:
    /* 2876D8 00387658 0C02028E */  lw         $v0, 0x20C($s0)
  .L0038765C:
    /* 2876DC 0038765C 4000BFDF */  ld         $ra, 0x40($sp)
  .L00387660:
    /* 2876E0 00387660 3000B2DF */  ld         $s2, 0x30($sp)
    /* 2876E4 00387664 2000B1DF */  ld         $s1, 0x20($sp)
    /* 2876E8 00387668 1000B0DF */  ld         $s0, 0x10($sp)
    /* 2876EC 0038766C 0800E003 */  jr         $ra
    /* 2876F0 00387670 5000BD27 */   addiu     $sp, $sp, 0x50
    /* 2876F4 00387674 00000000 */  nop
.size func_00387588, . - func_00387588
